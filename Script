local library = loadstring(game:GetObjects("rbxassetid://74651127924965")[1].Source)()
local Wait = library.subs.Wait -- Only returns if the GUI has not been terminated. For 'while Wait() do' loops


local PepsisWorld = library:CreateWindow({
Name = "BLACKSPIDER",
Themeable = {
Info = "Discord Server: VzYTJ7Y"
}
})

local GeneralTab = PepsisWorld:CreateTab({
Name = "General"
})
local FarmingSection = GeneralTab:CreateSection({
Name = "Farming"
})
FarmingSection:AddToggle({
Name = "EXP Grinder",
Flag = "FarmingSection_EXPGrinder"
})
FarmingSection:AddToggle({
Name = "Trick Spammer",
Flag = "FarmingSection_TrickSpammer",
Keybind = 1,
Callback = print
})
FarmingSection:AddSlider({
Name = "Trick Rate",
Flag = "FarmingSection_TrickRate",
Value = 0.15,
Precise = 2,
Min = 0,
Max = 1
})
FarmingSection:AddToggle({
Name = "TP To Coins",
Flag = "FarmingSection_TPCoins"
})
FarmingSection:AddToggle({
Name = "Collect Coins",
Flag = "FarmingSection_CollectCoins",
Callback = print
})
FarmingSection:AddSlider({
Name = "Coin Distance",
Flag = "FarmingSection_CoinDistance",
Value = 175,
Min = 0,
Max = 200,
Format = function(Value)
if Value == 0 then
return "Collection Distance: Infinite"
else
return "Collection Distance: " .. tostring(Value)
end
end
})

-- ต้องอยู่ใน LocalScript เท่านั้น
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- สร้าง ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ToggleLibraryGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- สร้างปุ่ม Toggle
local toggleButton = Instance.new("ImageButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 50, 0, 50)
toggleButton.Position = UDim2.new(0, 20, 0, 20)
toggleButton.BackgroundTransparency = 0 -- ให้เห็นก่อน
toggleButton.BackgroundColor3 = Color3.new(1, 1, 1) -- สีขาวชั่วคราว
toggleButton.Image = "rbxassetid://94565242245522"
toggleButton.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 12)
corner.Parent = toggleButton


-- ตรวจสอบว่ามี library และ MainScreenGui แล้ว toggle ได้
toggleButton.MouseButton1Click:Connect(function()
    if library and library.MainScreenGui then
        library.MainScreenGui.Enabled = not library.MainScreenGui.Enabled
        print("Toggled GUI:", library.MainScreenGui.Enabled)
    else
        warn("library หรือ MainScreenGui ไม่พร้อม")
    end
end)

-- ปิด CoreGui บางส่วนเพื่อป้องกันทับ
pcall(function()
    game:GetService("StarterGui"):SetCoreGuiEnabled(Enum.CoreGuiType.All, true)
end)
